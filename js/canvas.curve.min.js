/*
 *		Smooth curves on canvas version 1.3
 *
 *		By Ken Fyrstenberg Nilsen (c) 2013
 *		Abdias Software, http://abdiassoftware.com/
 *
 *		MIT licensed.
*/
function drawCurve(a,e,g,c,d,f){f=f?f:!1;a.beginPath();drawLines(a,getCurvePoints(e,g,c,d));if(f){a.stroke();a.beginPath();for(var b=0;b<pts.length-1;b+=2){a.rect(pts[b]-2,pts[b+1]-2,4,4)}}}function getCurvePoints(u,E,g,h){E=typeof E==="number"?E:0.5;h=typeof h==="number"?h:16;var a,v=[],F,G,A,C,B,D,b,c,d,e,w,z,f,r,p,s,q,j,k,m,n,o=u.length;a=u.concat();a.unshift(u[1]);a.unshift(u[0]);a.push(u[o-2],u[o-1]);for(f=2;f<o;f+=2){j=a[f];k=a[f+1];m=a[f+2];n=a[f+3];A=(m-a[f-2])*E;C=(a[f+4]-j)*E;B=(n-a[f-1])*E;D=(a[f+5]-k)*E;for(z=0;z<=h;z++){w=z/h;p=Math.pow(w,2);r=p*w;q=p*3;s=r*2;b=s-q+1;c=q-s;d=r-2*p+w;e=r-p;F=b*j+c*m+d*A+e*C;G=b*k+c*n+d*B+e*D;v.push(F,G)}}return v}function drawLines(a,b){a.moveTo(b[0],b[1]);for(i=2,l=b.length-1;i<l;i+=2){a.lineTo(b[i],b[i+1])}}if(CanvasRenderingContext2D!="undefined"){CanvasRenderingContext2D.prototype.drawCurve=function(c,e,a,b,d){drawCurve(this,c,e,a,b,d)}};